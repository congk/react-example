<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>属性与状态的实例演示</title>
</head>
<body>
	<script type="text/javascript" src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/jquery/jquery-1.10.2.min_f2fb5194.js"></script>
	<script type="text/javascript" src="../build/react.js"></script>
	<script type="text/javascript" src="../build/JSXTransformer.js"></script>
	<script type="text/jsx">
		$(document).ready(function(){
			var Content = React.createClass({
				getInitialState: function(){
					return {
						inputText:""
					};
				},
				handleChange: function(event){
					this.setState({inputText: event.target.value});
				},
				handleSubmit: function(event){
					console.log("reply To : " + this.props.selectedName + "\n" + this.state.inputText);
				},
				render: function(){
					return <div>
						<textarea placeholder="please enter something ..." onChange={this.handleChange}/>
						<button onClick={this.handleSubmit}>submit</button>
					</div>;
				}
			});
			var Comment = React.createClass({
				getInitialState: function(){
					return {names: ["Tim", "John", "Hank"], selectedName: "Tim"};
				},
				handleChange: function(event){
					this.setState({selectedName: event.target.value});
				},
				render: function(){			
					var options = [];
					for(var option in this.state.names){
						options.push(<option value={this.state.names[option]}>{this.state.names[option]}</option>);
					}
					return <div>
						<select onChange={this.handleChange}>
							{options}
						</select>
						<Content selectedName={this.state.selectedName}></Content>
					</div>;
				}
			});
			React.render(<Comment></Comment>, document.body);
		});	
	</script>
</body>
</html>