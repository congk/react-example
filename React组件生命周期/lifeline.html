<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>React组件的生命周期（初始化阶段）</title>
</head>
<body>
<script type="text/javascript" src="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/static/protocol/https/jquery/jquery-1.10.2.min_f2fb5194.js"></script>
	<script type="text/javascript" src="../build/react.js"></script>
	<script type="text/javascript" src="../build/JSXTransformer.js"></script>
	<script type="text/jsx">
		//组件的生命周期，初始化阶段
		$(document).ready(function(){
			var count = 0;
			var style = {
				color: "red",
				border: "1px #000 solid"
			};
			var HelloWorld = React.createClass({
				getDefaultProps: function(){		//React.createClass方法被调用时就已经执行
					return {"name": "Tom"};
				},
				getInitialState: function(){
					return {myCount: count++, ready: false};
				},
				componentWillMount: function(){
					this.setState({ready: true});
				},
				render: function(){
					return <p ref="childp">hello, {this.props.name||"world"}<br/>{"_"+this.state.ready}</p>;
				},
				componentDidMount: function(){
					$(React.findDOMNode(this)).append("surprise!");
				}
			});
			React.render(<div style={style}><HelloWorld/></div>, document.body);
		});	
	</script>
</body>
</html>